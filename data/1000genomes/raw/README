

aws s3 sync s3://1000genomes/phase3/ /francislab/data1/raw/1000genomes/phase3/ --exclude "*" --include "*/alignment/*.unmapped.ILLUMINA.bwa.*.*.*.bam"

aws s3 sync s3://1000genomes/phase3/ /francislab/data1/raw/1000genomes/phase3/ --exclude "*" --include "*/alignment/*.ILLUMINA.bwa.*.*.*.bam.bai"



I'm gonna try to get the total number of reads aligned by analyzing the bam index (.bam.bai) files.

git clone https://github.com/chmille4/bamReadDepther.git
cd bamReadDepther
gcc -lstdc++ -o bamReadDepther bamReadDepther.cpp 





Are all reads in unmapped, actually unmapped? 2 random checks say yes.


samtools view -c /francislab/data1/raw/1000genomes/phase3/data/HG00099/alignment/HG00099.unmapped.ILLUMINA.bwa.GBR.low_coverage.20130415.bam 
1147814

samtools view -f 4 -c /francislab/data1/raw/1000genomes/phase3/data/HG00099/alignment/HG00099.unmapped.ILLUMINA.bwa.GBR.low_coverage.20130415.bam 
1147814



samtools view -c /francislab/data1/raw/1000genomes/phase3/data/HG01286/alignment/HG01286.unmapped.ILLUMINA.bwa.PUR.low_coverage.20130415.bam
1664015

samtools view -f 4 -c /francislab/data1/raw/1000genomes/phase3/data/HG01286/alignment/HG01286.unmapped.ILLUMINA.bwa.PUR.low_coverage.20130415.bam
1664015





count_bai_reads.bash /francislab/data1/raw/1000genomes/phase3/data/*/alignment/*.bam.bai

./samtools_count.bash


...  WAIT ...


./aggregate_read_counts.bash




