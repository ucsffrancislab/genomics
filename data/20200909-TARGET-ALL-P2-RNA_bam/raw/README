


nohup gdc-client download --latest -t ~/gdc/gdc-user-token.2020-09-09T23_18_27.402Z.txt -m gdc_manifest.TARGET.ALL-P2.RNA.Genome.2020-09-09.txt &



UUID_to_GDC_barcode.Rscript gdc_manifest.TARGET.ALL-P2.RNA.Genome.2020-09-09.txt




mkdir bam
cd bam
while IFS=, read -r file_id barcode ; do
key=${barcode//-/}
let "${key}=0"
done < gdc_manifest.TARGET.ALL-P2.RNA.Genome.2020-09-09.barcodes.txt

while IFS=, read -r file_id barcode ; do
echo $file_id
echo $barcode
key=${barcode//-/}
barcode=${barcode#TCGA-}
let "${key}=${key}+1"
suffix=$( eval echo \$$key )
echo ${barcode}+${suffix}
ln -s ../${file_id}/*bam ${barcode}+${suffix}.bam
ln -s ../${file_id}/*bam.bai ${barcode}+${suffix}.bam.bai
done < gdc_manifest.TARGET.ALL-P2.RNA.Genome.2020-09-09.barcodes.txt
cd ..

Need to add a suffix as there are many duplicates





