

awk 'BEGIN{FPAT="([^,]*)|(\"[^\"]+\")"}{print NF}' SraRunTable.txt | uniq
78

awk 'BEGIN{FPAT="([^,]*)|(\"[^\"]+\")"}{print}' SraRunTable.txt | wc -l
24456

awk 'BEGIN{FPAT="([^,]*)|(\"[^\"]+\")"}($21=="Brain"){print}' SraRunTable.txt | wc -l
3297

awk 'BEGIN{FPAT="([^,]*)|(\"[^\"]+\")"}($21=="Brain" && $25=="PAIRED"){print}' SraRunTable.txt | wc -l
3292

awk 'BEGIN{FPAT="([^,]*)|(\"[^\"]+\")"}($16~/bam/ && $21=="Brain" && $25=="PAIRED"){print}' SraRunTable.txt | wc -l
1404

awk 'BEGIN{FPAT="([^,]*)|(\"[^\"]+\")"}($3=="RNA-Seq" && $16~/bam/ && $21=="Brain" && $25=="PAIRED"){print $1}' SraRunTable.txt | wc -l
1404

awk 'BEGIN{FPAT="([^,]*)|(\"[^\"]+\")"}($3=="RNA-Seq" && $16~/bam/ && $21=="Brain" && $25=="PAIRED"){print $1}' SraRunTable.txt | sort | uniq > PairedBrainRNABamAccessions.txt


awk 'BEGIN{FPAT="([^,]*)|(\"[^\"]+\")"}($3=="RNA-Seq" && $16=="sra" && $21=="Brain" && $25=="PAIRED"){print $1}' SraRunTable.txt | sort | uniq > PairedBrainRNABamAccessionsJUSTSRA.txt




can't figure out how to download a bam.
only sra "files" and only individually.

get those that are just sra as well since can't download bam files.



prefetch --progress --ngc prj_20942_D10852.ngc SRR1098761

Not sure if that's needed?
vdb-decrypt --ngc prj_20942_D10852.ngc --decrypt-sra-files SRR1098761

fastq-dump --split-e --ngc prj_20942_D10852.ngc SRR1098761/SRR1098761_dbGaP-20942.sra

gzip ...





nohup ./download.bash &

ll data/*/*sra | wc -l
448

20201023
ll data/*/*sra | wc -l
590    

20201026 9am
ll data/*/*sra | wc -l
699

20201027 949am
ll data/*/*sra | wc -l
776

20201028 1116am
ll data/*/*sra | wc -l
842

date ; ll data/*/*sra | wc -l
Thu Oct 29 07:57:27 PDT 2020
853

Seems to have stopped

date ; ll data/*/*sra | wc -l
Thu Oct 29 18:22:53 PDT 2020
878

date ; ll data/*/*sra | wc -l
Fri Oct 30 08:02:21 PDT 2020
917

date ; ll data/*/*sra | wc -l
Sun Nov  1 19:12:50 PST 2020
1131

date ; ll data/*/*sra | wc -l
Mon Nov  2 07:34:01 PST 2020
1178

date ; ll data/*/*sra | wc -l
Tue Nov  3 09:25:57 PST 2020
1199


nohup ./download.bash &

date ; ll data/*/*sra | wc -l
Tue Nov  3 16:00:20 PST 2020
1211

date ; ll data/*/*sra | wc -l
Wed Nov  4 06:50:04 PST 2020
1252

date ; ll data/*/*sra | wc -l
Wed Nov  4 11:26:05 PST 2020
1266

date ; ll data/*/*sra | wc -l
Wed Nov  4 15:14:21 PST 2020
1276

date ; ll data/*/*sra | wc -l
Wed Nov  4 19:17:51 PST 2020
1288

date ; ll data/*/*sra | wc -l
Thu Nov  5 07:40:10 PST 2020
1321

date ; ll data/*/*sra | wc -l
Thu Nov  5 18:01:38 PST 2020
1330

date ; ll data/*/*sra | wc -l
Fri Nov  6 09:57:07 PST 2020
1378

date ; ll data/*/*sra | wc -l
Fri Nov  6 11:31:15 PST 2020
1379

date ; ll data/*/*sra | wc -l
Fri Nov  6 12:16:23 PST 2020
1382

date ; ll data/*/*sra | wc -l
Fri Nov  6 14:21:40 PST 2020
1386

date ; ll data/*/*sra | wc -l
Fri Nov  6 15:17:53 PST 2020
1388




